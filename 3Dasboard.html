<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DASHBOARD</title>
    <link rel="stylesheet" href="../node_modules/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css">
    <!-- From: -->

<!-- To: -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <style>
          body {
            /*background-attachment: fixed;
            background-color: cover;
            background-repeat: no-repeat;*/
            overflow-x: hidden;

        }
        .dash1 {
            display: grid;
            grid-template-columns: 6fr 6fr;
      
            color: aqua;
            font-size: 20px;
            font-weight: bold;

        }
        .modi {
            margin-left: 80px;
        }
        .dash2 {
            color: blue;
        }
        .dash3 {
            display: flex;
            gap: 150px;
            color: black;
            font-family: Arial;
            
        }
        .bi-dot {
            font-size: 40px;
            margin-top: -12px;
            color: cadetblue;
        }
        .box {
          
           

          width: 550px;
          height: 220px;
          border: 2px solid black;
          color: color( red green blue);
          margin-top: 12px;
          padding: 8px;
          margin-left: 15px;
          
        }
        .box1 {
          
           

          width: 550px;
          height: 220px;
          border: 2px solid black;
          color: color( red green blue);
          margin-top: 12px;
          padding: 8px;
          margin-left: 15px;
          
        }
.box3 {

    width: 550px;
          height: 220px;
          border: 2px solid black;
          color: color( red green blue);
          margin-top: 12px;
          padding: 8px;
          margin-right: 45px;
}
main {
    border: 2px solid black;
    height: 445px;
    overflow: auto;
    width: 650px;
 
}
.footer-image {
    float: left;  /* Moves the image to the left */
    margin-left: -550px; /* Adjust spacing */
    width: 1150px; /* Set a width if needed */
    margin-top: 250px;
}

   .head1 {
            display: flex;
            justify-content: center;
            gap: 60px;
            align-items: center;
        }

        nav {
            background: linear-gradient(to right, #ff7e5f, #feb47b);
            padding: 10px 0;
        }



    </style>
</head>
<body>
    

    <img src="/images/dash.jpg">
    <img src="/images/hack5.jpg" width="1400px">

<div class="dash1">

    <div>
        <span  class="ms-4">State Wise Media Count</span>
        <img src="/images/map.jpg" class="ms-4">
    </div>
    <div>
    <span class="modi">State Wise Dissestimation Statistics</span>
    <main>
    <div class="box">
        
        <div class="dash2">Uttar Pradesh</div>
        <div class="dash3">   <!--for one in one box-->
            <span>223.cr</span>
            <span>SMS</span>
            <span class="bi bi-dot"></span>
        </div>
        <div class="dash3">   <!--2ND box-->
            <span>223.cr</span>
            <span>SMS</span>
            <span class="bi bi-dot"></span>  
        </div>
    <div class="dash3">      <!--3rd box-->
        <span>223.cr</span>
        <span>SMS</span>
        <span class="bi bi-dot"></span> 
    </div>
</div>
    <br> <!--State2-->
    <div class="box1" >
    <div class="dash2">Delhi</div>
    <div class="dash3">   <!--for one in one box-->
        <span>23.9cr</span>
        <span>SMS</span>
        <span class="bi bi-dot"></span>
    </div>
    <div class="dash3">   <!--2ND box-->
        <span>45.5cr</span>
        <span>SMS</span>
        <span class="bi bi-dot"></span>  
    </div>
<div class="dash3">      <!--3rd box-->
    <span>0.01cr</span>
    <span>SMS</span>
    <span class="bi bi-dot"></span> 
</div>
</div>

<br> <!--State3-->
<div class="box1" >
<div class="dash2">Maharashtra</div>
<div class="dash3">   <!--for one in one box-->
    <span>432.4cr</span>
    <span>SMS</span>
    <span class="bi bi-dot"></span>
</div>
<div class="dash3">   <!--2ND box-->
    <span>1.001cr</span>
    <span>SMS</span>
    <span class="bi bi-dot"></span>  
</div>
<div class="dash3">      <!--3rd box-->
<span>12.01cr</span>
<span>SMS</span>
<span class="bi bi-dot"></span> 
</div>
</div>
<br>
<div class="box1" >
    <div class="dash2">Odisha</div>
    <div class="dash3">   <!--for one in one box-->
        <span>88.6cr</span>
        <span>SMS</span>
        <span class="bi bi-dot"></span>
    </div>
    <div class="dash3">   <!--2ND box-->
        <span>4.004L</span>
        <span>SMS</span>
        <span class="bi bi-dot"></span>  
    </div>
<div class="dash3">      <!--3rd box-->
    <span>700.00</span>
    <span>SMS</span>
    <span class="bi bi-dot"></span> 
</div>
</div>  <!--look here at least 2 div-->
<!---afkdfsk-->
<br>
<div class="box1" >
    <div class="dash2">Jharkhand</div>
    <div class="dash3">   <!--for one in one box-->
        <span>112.4cr</span>
        <span>SMS</span>
        <span class="bi bi-dot"></span>
    </div>
    <div class="dash3">   <!--2ND box-->
        <span>02.06cr</span>
        <span>SMS</span>
        <span class="bi bi-dot"></span>  
    </div>
<div class="dash3">      <!--3rd box-->
    <span>24.05K</span>
    <span>SMS</span>
    <span class="bi bi-dot"></span> 
</div>
</div>

<!-- Add this to your dashboard -->
<div class="row mt-4">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header bg-danger text-white">
                Active Disaster Alerts
            </div>
            <div class="card-body" id="activeAlerts">
                <!-- Alerts will be loaded here -->
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card">
            <div class="card-header bg-primary text-white">
                Disaster Statistics
            </div>
            <div class="card-body">
                <canvas id="disasterChart" width="100%" height="200"></canvas>
            </div>
        </div>
    </div>
</div>
</main>
<footer>
    <div class="last">
        <img src="/images/download2.png" class="footer-image">
    </div>
</footer>

</body>


<!-- Add Chart.js for visualization -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// Fetch and display active alerts
fetch('/api/disaster-data')
    .then(response => response.json())
    .then(data => {
        const alertsContainer = document.getElementById('activeAlerts');
        alertsContainer.innerHTML = '';
        
        for (const [location, disasters] of Object.entries(data)) {
            for (const [type, info] of Object.entries(disasters)) {
                if (info.level > 0) {
                    const alertDiv = document.createElement('div');
                    alertDiv.className = `alert alert-${info.level > 1 ? 'danger' : 'warning'}`;
                    alertDiv.innerHTML = `
                        <strong>${location}: ${type.toUpperCase()}</strong> 
                        <span class="float-end">Level ${info.level}</span>
                        <div>Last updated: ${new Date(info.lastUpdated).toLocaleString()}</div>
                    `;
                    alertsContainer.appendChild(alertDiv);
                }
            }
        }
    });

// Create chart
const ctx = document.getElementById('disasterChart').getContext('2d');
new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['Floods', 'Earthquakes', 'Cyclones', 'Wildfires'],
        datasets: [{
            label: 'Disaster Reports',
            data: [12, 5, 3, 2],
            backgroundColor: [
                'rgba(54, 162, 235, 0.5)',
                'rgba(255, 99, 132, 0.5)',
                'rgba(255, 206, 86, 0.5)',
                'rgba(75, 192, 192, 0.5)'
            ],
            borderColor: [
                'rgba(54, 162, 235, 1)',
                'rgba(255, 99, 132, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        responsive: true,
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});
</script>


</html>